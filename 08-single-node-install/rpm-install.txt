Lab : Single Node Install of Cassandra

== STEP 1)  Login to the node
Make sure this is a CentOS based machine

Pre-requisites:
    - need root or sudo access
    - java 7 installed
        test it with   'java -version'  command


== STEP 2)  Add yum repository
    $   sudo vi /etc/yum.repos.d/datastax.repo
add the following content to this file

[datastax]
name = DataStax Repository
baseurl = http://rpm.datastax.com/community
enabled = 1
gpgcheck = 0

save and exit


== STEP 3) install cassandra
    $ sudo yum  install dsc20


== STEP 4)  Inspect cassandra configuration
conf dir is : /etc/cassandra/conf
inspect the file  : cassandra.yaml
verify the following properties in this file
    data_file_directories
    commitlog_directory


== STEP 5)  Start Cassandra
    $  sudo service cassandra start


== STEP 6)  Verifying Cassandra is running
Use 'jps' command
    $  jps
    or
    $ sudo /usr/java/latest/bin/jps
Is there 'CassandraDaemon' running?

Use 'nodetool' command
    $   nodetool    status
verify the output


** Troubleshooting:
If Cassandra isn't starting up, check the logs  in '/var/log/cassandra'  directory

If there is an error about Java class mismatches or Java 7, please do the following fix.
    $ sudo vi /etc/cassandra/conf/cassandra-env.sh
go to around line number 90, just after the line saying '# determine JVM'
add these two lines
export JAVA_HOME="/usr/java/latest"
export JAVA="$JAVA_HOME/bin/java"

After that the file should look like this...
    # Determine the sort of JVM we'll be running
    export JAVA_HOME="/usr/java/latest"
    export JAVA="$JAVA_HOME/bin/java"
    java_ver_output=`"${JAVA:-java}" -version 2>&1`
save and exit
then start Cassandra again


== STEP 7) refer to file : post-install.txt
